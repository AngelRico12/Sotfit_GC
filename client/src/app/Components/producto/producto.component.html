<!-- producto.component.html -->
<div class="container">
  <h1>Gestión de Productos</h1>

  <!-- Formulario para Crear/Actualizar Productos -->
  <form (ngSubmit)="saveProduct()">
    <div class="form-group">
      <label for="nombre">Nombre del Producto</label>
      <input type="text" [(ngModel)]="producto.nombre" name="nombre" class="form-control" placeholder="Nombre del producto" required />
    </div>

    <div class="form-group">
      <label for="descripcion">Descripción</label>
      <textarea [(ngModel)]="producto.descripcion" name="descripcion" class="form-control" placeholder="Descripción del producto"></textarea>
    </div>

    <div class="form-group">
      <label for="categoria">Categoría</label>
      <select [(ngModel)]="producto.id_categoria" name="id_categoria" class="form-control" required>
        <option *ngFor="let cat of categorias" [value]="cat.id_categoria">{{ cat.nombre_categoria }}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="precio">Precio</label>
      <input type="number" step="0.01" [(ngModel)]="producto.precio" name="precio" class="form-control" placeholder="Precio" required />
    </div>

    <div class="form-group">
      <label for="estado">Estado</label>
      <select [(ngModel)]="producto.estado" name="estado" class="form-control" required>
        <option value="disponible">Disponible</option>
        <option value="agotado">Agotado</option>
        <option value="en stand by">En Stand By</option>
      </select>
    </div>

    <div class="form-group">
      <label for="qr">Código QR</label>
      <input type="text" [(ngModel)]="producto.qr" name="qr" class="form-control" placeholder="Código QR" required />
    </div>

    <button type="submit" class="btn btn-primary">Guardar Producto</button>
  </form>

  <!-- Lista de Productos -->
  <h2>Lista de Productos</h2>
  <ul class="list-group">
    <li class="list-group-item" *ngFor="let prod of productos">
      {{ prod.nombre }} - {{ prod.precio }} $ ({{ prod.estado }}) - {{ prod.qr }} - {{ prod.nombre_categoria }}
      <button class="btn btn-danger btn-sm float-right" (click)="deleteProduct(prod.id_producto)">Eliminar</button>
      <button class="btn btn-info btn-sm float-right mr-2" (click)="editProduct(prod)">Editar</button>
    </li>
  </ul>
</div>